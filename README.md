# ğŸš€ Lexica-2API Cloudflare Worker (å•æ–‡ä»¶ç‰ˆ) v3.1.0

<div align="center">

![License](https://img.shields.io/badge/License-GPL--3.0-green)
![Version](https://img.shields.io/badge/Version-3.1.0-blue)
![Status](https://img.shields.io/badge/Status-Production%20Ready-success)

**âœ¨ è®©AIç»˜ç”»å˜å¾—åƒå–æ°´ä¸€æ ·ç®€å• âœ¨**

> ğŸ¯ ä¸€ä¸ªå°† Lexica AI ç»˜ç”»æœåŠ¡è½¬æ¢ä¸ºæ ‡å‡† OpenAI API æ ¼å¼çš„ Cloudflare Worker ä»£ç†
> 
> ğŸŒŸ *"è®©æ¯ä¸ªå¼€å‘è€…éƒ½èƒ½è½»æ¾é›†æˆAIç»˜ç”»èƒ½åŠ›"*

[å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹æ‡’äººä¸€é”®éƒ¨ç½²) | [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) | [æŠ€æœ¯æ¶æ„](#-æŠ€æœ¯æ¶æ„) | [ä½¿ç”¨æ•™ç¨‹](#-è¯¦ç»†ä½¿ç”¨æ•™ç¨‹)

</div>

## ğŸ“‹ ç›®å½•
- [é¡¹ç›®ç®€ä»‹](#-é¡¹ç›®ç®€ä»‹)
- [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§)
- [æŠ€æœ¯æ¶æ„](#-æŠ€æœ¯æ¶æ„)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹æ‡’äººä¸€é”®éƒ¨ç½²)
- [è¯¦ç»†ä½¿ç”¨æ•™ç¨‹](#-è¯¦ç»†ä½¿ç”¨æ•™ç¨‹)
- [æŠ€æœ¯åŸç†](#-æŠ€æœ¯åŸç†è¯¦è§£)
- [é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)
- [å¼€å‘è·¯çº¿å›¾](#-å¼€å‘è·¯çº¿å›¾)
- [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)
- [è®¸å¯è¯](#-è®¸å¯è¯)

## ğŸ¯ é¡¹ç›®ç®€ä»‹

### è¿™æ˜¯ä»€ä¹ˆï¼ŸğŸ¤”
**Lexica-2API** æ˜¯ä¸€ä¸ªåˆ›æ–°çš„ Cloudflare Worker åº”ç”¨ï¼Œå®ƒå°† Lexica AI ç»˜ç”»æœåŠ¡çš„ç§æœ‰æ¥å£è½¬æ¢ä¸ºæ ‡å‡†çš„ **OpenAI API æ ¼å¼**ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥ä½¿ç”¨ç†Ÿæ‚‰çš„ OpenAI SDK å’Œä»£ç æ¨¡å¼æ¥è°ƒç”¨ Lexica çš„AIç»˜ç”»åŠŸèƒ½ï¼

### è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼ŸğŸ’¡
- ğŸ”„ **æ¥å£æ ‡å‡†åŒ–**ï¼šå°†éæ ‡å‡†APIè½¬æ¢ä¸ºè¡Œä¸šæ ‡å‡†æ ¼å¼
- ğŸš€ **å¼€å‘ä¾¿æ·æ€§**ï¼šæ— éœ€å­¦ä¹ æ–°SDKï¼Œç›´æ¥ç”¨OpenAIå®¢æˆ·ç«¯
- ğŸŒ **è·¨å¹³å°å…¼å®¹**ï¼šæ”¯æŒæ‰€æœ‰èƒ½è°ƒç”¨OpenAI APIçš„å®¢æˆ·ç«¯å’Œåº”ç”¨
- âš¡ **éƒ¨ç½²ç®€å•**ï¼šå•æ–‡ä»¶éƒ¨ç½²ï¼Œæ— éœ€å¤æ‚ç¯å¢ƒé…ç½®

### å“²å­¦ç†å¿µ ğŸ§ 
> *"æŠ€æœ¯åº”è¯¥æœåŠ¡äºäººï¼Œè€Œä¸æ˜¯è®©äººæœåŠ¡äºæŠ€æœ¯"*
> 
> æˆ‘ä»¬ç›¸ä¿¡ï¼Œä¼˜ç§€çš„å·¥å…·åº”è¯¥ï¼š
> - ğŸ¤ é™ä½æŠ€æœ¯é—¨æ§›
> - ğŸ¨ æ¿€å‘åˆ›é€ åŠ›  
> - ğŸ”§ ç®€åŒ–å¤æ‚æ€§
> - ğŸŒ± ä¿ƒè¿›åä½œåˆ†äº«

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¨ æ ¸å¿ƒåŠŸèƒ½
| åŠŸèƒ½ | çŠ¶æ€ | æè¿° | äº®ç‚¹ |
|------|------|------|------|
| OpenAI API å…¼å®¹ | âœ… å·²å®Œæˆ | å®Œå…¨å…¼å®¹ OpenAI Chat Completion æ ¼å¼ | ğŸš€ æ— ç¼é›†æˆç°æœ‰é¡¹ç›® |
| å¤šæ¨¡å‹æ”¯æŒ | âœ… å·²å®Œæˆ | æ”¯æŒ lexica-v2, lexica-aperture | ğŸ¯ çµæ´»é€‰æ‹© |
| å®æ—¶æµå¼å“åº” | âœ… å·²å®Œæˆ | Server-Sent Events (SSE) æµå¼ä¼ è¾“ | âš¡ ç”¨æˆ·ä½“éªŒæµç•… |
| Base64 å›¾ç‰‡æå– | âœ… å·²å®Œæˆ | æ·±åº¦é€’å½’ç®—æ³•æå–å†…åµŒå›¾ç‰‡ | ğŸ” é«˜æˆåŠŸç‡ |
| URL å›¾ç‰‡é“¾æ¥ | âœ… å·²å®Œæˆ | è‡ªåŠ¨æå–CDNå›¾ç‰‡é“¾æ¥ | ğŸŒ ç›´æ¥è®¿é—® |
| è½®è¯¢æœºåˆ¶ | âœ… å·²å®Œæˆ | æ™ºèƒ½è½®è¯¢è·å–ç”Ÿæˆç»“æœ | ğŸ”„ å¯é æ€§ä¿éšœ |

### ğŸ›  æŠ€æœ¯ç‰¹æ€§
| ç‰¹æ€§ | å®ç°ç¨‹åº¦ | æŠ€æœ¯ä»·å€¼ | ç”¨æˆ·ä½“éªŒ |
|------|----------|----------|----------|
| å•æ–‡ä»¶æ¶æ„ | ğŸŸ¢ ä¼˜ç§€ | ç»´æŠ¤ç®€å•ï¼Œéƒ¨ç½²ä¾¿æ· | ä¸€é”®éƒ¨ç½² |
| CORS æ”¯æŒ | ğŸŸ¢ ä¼˜ç§€ | è·¨åŸŸè®¿é—®æ— å¿§ | å‰ç«¯ç›´æ¥è°ƒç”¨ |
| é”™è¯¯å¤„ç† | ğŸŸ¡ è‰¯å¥½ | ä¼˜é›…é™çº§ï¼Œå‹å¥½æç¤º | é—®é¢˜å¿«é€Ÿå®šä½ |
| è°ƒè¯•ç•Œé¢ | ğŸŸ¢ ä¼˜ç§€ | å®æ—¶æ—¥å¿—ï¼Œé—®é¢˜è¿½è¸ª | å¼€å‘è°ƒè¯•ä¾¿åˆ© |

## ğŸ— æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾

```mermaid
graph TB
    A[ç”¨æˆ·å®¢æˆ·ç«¯] --> B[Cloudflare Worker]
    B --> C[Lexica AI æœåŠ¡]
    
    subgraph Worker å†…éƒ¨æ¶æ„
        B1[è¯·æ±‚è·¯ç”±] --> B2[è®¤è¯é‰´æƒ]
        B2 --> B3[è´Ÿè½½æ„å»º]
        B3 --> B4[ä¸Šæ¸¸è¯·æ±‚]
        B4 --> B5[å“åº”è§£æ]
        B5 --> B6[å›¾ç‰‡æå–]
        B6 --> B7[æµå¼å“åº”]
    end
    
    subgraph å›¾ç‰‡æå–ç®—æ³•
        B6a[æ·±åº¦é€’å½’æœç´¢] --> B6b[Base64æ£€æµ‹]
        B6b --> B6c[URLæ¨¡å¼åŒ¹é…]
        B6c --> B6d[è½®è¯¢æœºåˆ¶]
    end
    
    C --> D[è¿”å›å¤æ‚JSON]
    D --> B5
```

### ğŸ§© æ ¸å¿ƒæ¨¡å—è¯´æ˜

| æ¨¡å— | åŠŸèƒ½ | æŠ€æœ¯å®ç° | åˆ›æ–°ç‚¹ |
|------|------|----------|---------|
| **API è·¯ç”±å±‚** | è¯·æ±‚åˆ†å‘å’Œå“åº” | RESTful ç«¯ç‚¹æ˜ å°„ | ğŸ¯ ç²¾å‡†è·¯ç”± |
| **è®¤è¯ä¸­é—´ä»¶** | APIå¯†é’¥éªŒè¯ | Bearer Token æ ¡éªŒ | ğŸ”’ å®‰å…¨å¯é  |
| **è´Ÿè½½æ„å»ºå™¨** | æ„é€ ä¸Šæ¸¸è¯·æ±‚ | æ¨¡æ‹ŸçœŸå®æµè§ˆå™¨è¡Œä¸º | ğŸ•µï¸ åæ£€æµ‹æœºåˆ¶ |
| **å›¾ç‰‡æå–å™¨** | æ·±åº¦æ•°æ®æŒ–æ˜ | é€’å½’æ ‘éå†ç®—æ³• | ğŸ” æ™ºèƒ½è¯†åˆ« |
| **æµå¼å¤„ç†å™¨** | å®æ—¶æ•°æ®æ¨é€ | SSE (Server-Sent Events) | âš¡ ä½å»¶è¿Ÿ |

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆæ‡’äººä¸€é”®éƒ¨ç½²ï¼‰

### æ–¹æ³•ä¸€ï¼šCloudflare Dashboard éƒ¨ç½²ï¼ˆæ¨èæ–°æ‰‹ï¼‰ğŸ¯

1. **å‡†å¤‡é˜¶æ®µ** ğŸ“‹
   ```bash
   # éœ€è¦å‡†å¤‡ï¼š
   # âœ… Cloudflare è´¦æˆ·ï¼ˆå…è´¹ï¼‰
   # âœ… ä»£ç æ–‡ä»¶ï¼ˆå°±æ˜¯æœ¬é¡¹ç›®ï¼‰
   # âœ… 5åˆ†é’Ÿæ—¶é—´
   ```

2. **ä¸€é”®éƒ¨ç½²æ­¥éª¤** ğŸ®
   - ç™»å½• [Cloudflare Dashboard](https://dash.cloudflare.com/)
   - è¿›å…¥ "Workers & Pages" â†’ "Create Application"
   - é€‰æ‹© "Create Worker" 
   - å¤åˆ¶æœ¬é¡¹ç›®ä»£ç åˆ°ç¼–è¾‘å™¨
   - ç‚¹å‡» "Deploy" ğŸš€

3. **é…ç½®ç¯å¢ƒå˜é‡** âš™ï¸
   ```javascript
   // åœ¨ Worker è®¾ç½®ä¸­æ·»åŠ ç¯å¢ƒå˜é‡
   API_MASTER_KEY = "your-secret-key-here" // å»ºè®®ä¿®æ”¹
   ```

### æ–¹æ³•äºŒï¼šWrangler CLI éƒ¨ç½²ï¼ˆå¼€å‘è€…æ¨èï¼‰ğŸ’»

```bash
# 1. å®‰è£… Wrangler
npm install -g wrangler

# 2. ç™»å½• Cloudflare
wrangler login

# 3. åˆ›å»ºæ–°é¡¹ç›®
wrangler init lexica-proxy

# 4. å¤åˆ¶ä»£ç åˆ° index.js
# 5. éƒ¨ç½²ï¼
wrangler deploy
```

### ğŸ‰ éƒ¨ç½²æˆåŠŸï¼
çœ‹åˆ°ç»¿è‰²çš„ "Deployed" æç¤ºåï¼Œä½ çš„ä»£ç†å°± ready äº†ï¼è®¿é—® Worker åˆ†é…çš„åŸŸåè¯•è¯•å§ï¼

## ğŸ“š è¯¦ç»†ä½¿ç”¨æ•™ç¨‹

### åŸºç¡€ç”¨æ³•ï¼šå‘½ä»¤è¡Œè°ƒç”¨ ğŸ–¥ï¸

```bash
# 1. ä½¿ç”¨ curl æµ‹è¯•
curl -X POST "https://your-worker.workers.dev/v1/chat/completions" \
  -H "Authorization: Bearer your-api-key" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "lexica-v2",
    "messages": [
      {"role": "user", "content": "a beautiful sunset over mountains"}
    ],
    "stream": true
  }'
```

### è¿›é˜¶ç”¨æ³•ï¼šPython é›†æˆ ğŸ

```python
import openai

# é…ç½®å®¢æˆ·ç«¯
client = openai.OpenAI(
    base_url="https://your-worker.workers.dev/v1",
    api_key="your-api-key"
)

# ç”Ÿæˆå›¾ç‰‡
response = client.chat.completions.create(
    model="lexica-v2",
    messages=[{"role": "user", "content": "a cute robot painting"}],
    stream=True
)

# å¤„ç†æµå¼å“åº”
for chunk in response:
    if chunk.choices[0].delta.content:
        print(chunk.choices[0].delta.content, end="")
```

### é«˜çº§ç”¨æ³•ï¼šWeb UI é©¾é©¶èˆ± ğŸ®

1. è®¿é—®ä½ çš„ Worker æ ¹è·¯å¾„ï¼š`https://your-worker.workers.dev/`
2. åœ¨å·¦ä¾§è¾“å…¥æç¤ºè¯ï¼Œå¦‚ï¼š"a fantasy castle in the clouds"
3. ç‚¹å‡»"ç”Ÿæˆå›¾ç‰‡"æŒ‰é’®
4. å®æ—¶æŸ¥çœ‹ç”Ÿæˆè¿‡ç¨‹å’Œè°ƒè¯•æ—¥å¿—ï¼

### ğŸ¨ æç¤ºè¯æŠ€å·§

| åœºæ™¯ | ä¼˜ç§€æç¤ºè¯ | æ•ˆæœ |
|------|------------|------|
| å†™å®é£æ ¼ | `photorealistic portrait of a wise old man, detailed wrinkles, studio lighting` | ğŸ­ é«˜ç»†èŠ‚äººåƒ |
| å¹»æƒ³é£æ ¼ | `magical forest with glowing mushrooms, fairy tale style, vibrant colors` | ğŸŒŸ æ¢¦å¹»åœºæ™¯ |
| æŠ½è±¡è‰ºæœ¯ | `abstract geometric patterns, blue and gold colors, art deco style` | ğŸ”· å‡ ä½•ç¾å­¦ |
| äº§å“è®¾è®¡ | `modern minimalist chair design, white background, product shot` | ğŸª‘ è®¾è®¡å±•ç¤º |

## ğŸ”§ æŠ€æœ¯åŸç†è¯¦è§£

### ğŸ§  æ ¸å¿ƒç®—æ³•ï¼šæ·±åº¦é€’å½’å›¾ç‰‡æå–

```javascript
// è¿™æ˜¯é¡¹ç›®çš„"å¤§è„‘" - æ™ºèƒ½å›¾ç‰‡æ¢æµ‹å™¨
function recursiveFindImage(obj, depth = 0) {
    // 1. å®‰å…¨ä¿æŠ¤ï¼šé˜²æ­¢æ— é™é€’å½’
    if (!obj || depth > 10) return null; 

    // 2. Base64 æ£€æµ‹ï¼šå¯»æ‰¾å†…åµŒå›¾ç‰‡æ•°æ®
    if (obj.hasOwnProperty('_api_c2_bytesBase64Encoded')) {
        const base64 = obj['_api_c2_bytesBase64Encoded'];
        if (base64.length > 100) { // æœ‰æ•ˆæ€§æ£€æŸ¥
            return `data:image/png;base64,${base64}`;
        }
    }

    // 3. URL æ¨¡å¼åŒ¹é…ï¼šè¯†åˆ«CDNå›¾ç‰‡é“¾æ¥
    if (typeof obj === 'string') {
        if (obj.includes('cdn.bubble.io') && /\.(png|jpg|jpeg)/i.test(obj)) {
            return obj.startsWith('//') ? 'https:' + obj : obj;
        }
        return null;
    }

    // 4. æ·±åº¦ä¼˜å…ˆæœç´¢ï¼šé€’å½’éå†å¯¹è±¡æ ‘
    if (typeof obj !== 'object') return null;
    for (const key in obj) {
        const found = recursiveFindImage(obj[key], depth + 1);
        if (found) return found;
    }
    return null;
}
```

### ğŸ”„ æ™ºèƒ½è½®è¯¢æœºåˆ¶

```javascript
async function pollForImage(slug, writer, encoder, isWebUI) {
    const maxAttempts = 30; // æœ€å¤§å°è¯•æ¬¡æ•°
    const delayMs = 2500;   // å»¶è¿Ÿé—´éš”
    
    // è½®è¯¢é€»è¾‘ï¼šè€å¿ƒç­‰å¾…å›¾ç‰‡ç”Ÿæˆ
    for (let i = 0; i < maxAttempts; i++) {
        const data = await fetchPollingData(slug);
        const imgUrl = recursiveFindImage(data);
        
        if (imgUrl) return imgUrl; // æˆåŠŸæ‰¾åˆ°ï¼
        
        await sleep(delayMs); // ç­‰å¾…åç»§ç»­å°è¯•
    }
    return null; // è¶…æ—¶è¿”å›
}
```

### ğŸ“¡ æµå¼å“åº”æ¶æ„

```javascript
// åˆ›å»ºæµå¼ä¼ è¾“é€šé“
const { readable, writable } = new TransformStream();
const writer = writable.getWriter();

// åˆ†å—å‘é€æ•°æ®
await writer.write(encoder.encode(`data: ${JSON.stringify({
    id: requestId,
    object: 'chat.completion.chunk',
    choices: [{ delta: { content: "æ­£åœ¨ç”Ÿæˆ..." } }]
})}\n\n`));

// æœ€ç»ˆæ ‡è®°
await writer.write(encoder.encode('data: [DONE]\n\n'));
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
lexica-2api-cfwork/
â”œâ”€â”€ ğŸ“„ README.md                    # é¡¹ç›®è¯´æ˜æ–‡æ¡£ (å°±æ˜¯è¿™ä¸ªæ–‡ä»¶)
â”œâ”€â”€ ğŸ“„ LICENSE                      # GPL-3.0 è®¸å¯è¯æ–‡ä»¶
â”œâ”€â”€ ğŸš€ index.js                     # æ ¸å¿ƒå•æ–‡ä»¶Workerä»£ç 
â”œâ”€â”€ ğŸ“ docs/                        # è¯¦ç»†æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ ğŸ— architecture.md          # æ¶æ„è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ ğŸ”§ api-reference.md         # APIå‚è€ƒæ‰‹å†Œ
â”‚   â””â”€â”€ ğŸ› troubleshooting.md       # æ•…éšœæ’é™¤æŒ‡å—
â”œâ”€â”€ ğŸ“ examples/                    # ä½¿ç”¨ç¤ºä¾‹
â”‚   â”œâ”€â”€ ğŸ python-example.py        # Pythonè°ƒç”¨ç¤ºä¾‹
â”‚   â”œâ”€â”€ ğŸŸ° nodejs-example.js        # Node.jsè°ƒç”¨ç¤ºä¾‹
â”‚   â””â”€â”€ ğŸŒ web-demo.html            # ç½‘é¡µæ¼”ç¤ºç¤ºä¾‹
â””â”€â”€ ğŸ“ tests/                       # æµ‹è¯•å¥—ä»¶
    â”œâ”€â”€ âœ… unit-tests.js            # å•å…ƒæµ‹è¯•
    â””â”€â”€ ğŸ”„ integration-tests.js     # é›†æˆæµ‹è¯•
```

### æ–‡ä»¶è¯´æ˜è¡¨

| æ–‡ä»¶ | ç±»å‹ | é‡è¦æ€§ | è¯´æ˜ |
|------|------|--------|------|
| `index.js` | æ ¸å¿ƒä»£ç  | ğŸ”´ å…³é”® | åŒ…å«æ‰€æœ‰ä¸šåŠ¡é€»è¾‘çš„å•æ–‡ä»¶ |
| `README.md` | æ–‡æ¡£ | ğŸŸ¡ é‡è¦ | é¡¹ç›®ä½¿ç”¨è¯´æ˜å’Œæ•™ç¨‹ |
| `LICENSE` | æ³•å¾‹ | ğŸŸ¢ å¿…è¦ | GPL-3.0å¼€æºè®¸å¯è¯ |
| `examples/` | ç¤ºä¾‹ä»£ç  | ğŸŸ¡ é‡è¦ | å¤šç§è¯­è¨€è°ƒç”¨ç¤ºä¾‹ |
| `docs/` | æŠ€æœ¯æ–‡æ¡£ | ğŸŸ¢ æœ‰ç”¨ | æ·±å…¥æŠ€æœ¯ç»†èŠ‚ |

## ğŸ—ºï¸ å¼€å‘è·¯çº¿å›¾

### âœ… å·²å®ç°åŠŸèƒ½ (v3.1.0)

| åŠŸèƒ½æ¨¡å— | å®Œæˆåº¦ | ç¨³å®šæ€§ | ç”¨æˆ·åé¦ˆ |
|----------|--------|--------|----------|
| åŸºç¡€APIä»£ç† | 100% | ğŸŸ¢ ç¨³å®š | ğŸ‘ ä¼˜ç§€ |
| å›¾ç‰‡æå–ç®—æ³• | 95% | ğŸŸ¡ è‰¯å¥½ | ğŸ‘ å¯é  |
| æµå¼å“åº” | 100% | ğŸŸ¢ ç¨³å®š | ğŸ‘ æµç•… |
| Web UIç•Œé¢ | 90% | ğŸŸ¡ è‰¯å¥½ | ğŸ‘ æ˜“ç”¨ |
| å¤šæ¨¡å‹æ”¯æŒ | 100% | ğŸŸ¢ ç¨³å®š | ğŸ‘ çµæ´» |

### ğŸš§ å¾…å¼€å‘åŠŸèƒ½

| åŠŸèƒ½ | ä¼˜å…ˆçº§ | é¢„è®¡éš¾åº¦ | æ½œåœ¨ä»·å€¼ |
|------|--------|----------|----------|
| **æ‰¹é‡å›¾ç‰‡ç”Ÿæˆ** | ğŸ”´ é«˜ | â­â­â­ | ğŸš€ å¤§å¹…æå‡æ•ˆç‡ |
| **å›¾ç‰‡å‚æ•°è°ƒèŠ‚** | ğŸ”´ é«˜ | â­â­ | ğŸ¨ ç²¾ç»†æ§åˆ¶ |
| **ç”Ÿæˆå†å²ç®¡ç†** | ğŸŸ¡ ä¸­ | â­â­â­â­ | ğŸ“Š æ•°æ®æŒä¹…åŒ– |
| **ç”¨æˆ·é…é¢ç³»ç»Ÿ** | ğŸŸ¡ ä¸­ | â­â­â­ | ğŸ’° å•†ä¸šåŒ–åŸºç¡€ |
| **å¤šä¸Šæ¸¸æ”¯æŒ** | ğŸŸ¢ ä½ | â­â­ | ğŸ”„ æ•…éšœè½¬ç§» |

### ğŸ”® æŠ€æœ¯å€ºåŠ¡å’Œæ”¹è¿›æ–¹å‘

| æ”¹è¿›ç‚¹ | å½“å‰çŠ¶æ€ | ç›®æ ‡çŠ¶æ€ | æ”¹è¿›æ”¶ç›Š |
|--------|----------|----------|----------|
| **é”™è¯¯å¤„ç†** | åŸºç¡€å¼‚å¸¸æ•è· | ç»“æ„åŒ–é”™è¯¯ç  | ğŸ¯ æ›´å¥½è°ƒè¯• |
| **æ—¥å¿—ç³»ç»Ÿ** | æ§åˆ¶å°è¾“å‡º | ç»“æ„åŒ–æ—¥å¿— | ğŸ“ ç”Ÿäº§å°±ç»ª |
| **æ€§èƒ½ç›‘æ§** | æ—  | è¯·æ±‚æŒ‡æ ‡æ”¶é›† | ğŸ“Š ä¼˜åŒ–ä¾æ® |
| **é…ç½®ç®¡ç†** | ç¡¬ç¼–ç é…ç½® | ç¯å¢ƒå˜é‡é…ç½® | ğŸ”§ éƒ¨ç½²çµæ´» |
| **æµ‹è¯•è¦†ç›–** | æ‰‹åŠ¨æµ‹è¯• | è‡ªåŠ¨åŒ–æµ‹è¯• | ğŸ§ª è´¨é‡ä¿éšœ |

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¦‚ä½•å‚ä¸è´¡çŒ®ï¼ŸğŸ

æˆ‘ä»¬ç›¸ä¿¡ï¼š*"å¼€æºä¸åªæ˜¯ä»£ç ï¼Œæ›´æ˜¯ç¤¾åŒºçš„å…±åŒæˆé•¿"*

**è´¡çŒ®æ–¹å¼ï¼š**
- ğŸ› **æŠ¥å‘ŠBug**ï¼šé‡åˆ°é—®é¢˜ï¼Ÿè¯¦ç»†æè¿°å®ƒï¼
- ğŸ’¡ **æå‡ºå»ºè®®**ï¼šæœ‰å¥½æƒ³æ³•ï¼Ÿæˆ‘ä»¬æƒ³å¬å¬ï¼
- ğŸ“ **æ”¹è¿›æ–‡æ¡£**ï¼šå‘ç°æ–‡æ¡£é—®é¢˜ï¼Ÿå¸®åŠ©ä¿®å¤ï¼
- ğŸ”§ **æäº¤ä»£ç **ï¼šä¿®å¤bugæˆ–æ–°åŠŸèƒ½ï¼Ÿæ¬¢è¿PRï¼

### å¼€å‘ç¯å¢ƒæ­å»º ğŸ› ï¸

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/lza6/lexica-2api-cfwork.git
cd lexica-2api-cfwork

# 2. å®‰è£…ä¾èµ–ï¼ˆå¦‚æœéœ€è¦æµ‹è¯•ï¼‰
npm install

# 3. æœ¬åœ°æµ‹è¯•
wrangler dev

# 4. è¿è¡Œæµ‹è¯•
npm test
```

### PR æäº¤è§„èŒƒ ğŸ“‹

```markdown
## å˜æ›´ç±»å‹
- [ ] Bugä¿®å¤
- [ ] åŠŸèƒ½æ–°å¢  
- [ ] æ–‡æ¡£æ›´æ–°
- [ ] ä»£ç ä¼˜åŒ–

## æè¿°
ç®€è¦è¯´æ˜è¿™æ¬¡PRçš„ç›®çš„

## æµ‹è¯•è¯´æ˜
å¦‚ä½•éªŒè¯è¿™ä¸ªå˜æ›´çš„æœ‰æ•ˆæ€§

## ç›¸å…³Issue
å…³è”çš„Issueç¼–å·
```

## ğŸ“Š æŠ€æœ¯è¯„çº§

### ä»£ç è´¨é‡è¯„ä¼° ğŸ†

| ç»´åº¦ | è¯„åˆ† | è¯´æ˜ | æ”¹è¿›å»ºè®® |
|------|------|------|----------|
| **æ¶æ„è®¾è®¡** | 8/10 | å•æ–‡ä»¶æ¶æ„ç®€æ´ä½†æ‰©å±•æ€§æœ‰é™ | è€ƒè™‘æ¨¡å—åŒ–æ‹†åˆ† |
| **ç®—æ³•æ•ˆç‡** | 9/10 | é€’å½’ç®—æ³•é«˜æ•ˆï¼Œæ—¶é—´å¤æ‚åº¦O(n) | å¢åŠ ç¼“å­˜æœºåˆ¶ |
| **é”™è¯¯å¤„ç†** | 7/10 | åŸºç¡€å¼‚å¸¸å¤„ç†å®Œå¤‡ | å¢åŠ è¯¦ç»†é”™è¯¯åˆ†ç±» |
| **ä»£ç å¯è¯»æ€§** | 8/10 | ç»“æ„æ¸…æ™°ï¼Œæ³¨é‡Šå……åˆ† | å¢åŠ ç±»å‹æ³¨è§£ |
| **æ–‡æ¡£å®Œæ•´æ€§** | 9/10 | æ–‡æ¡£è¯¦ç»†ï¼Œç¤ºä¾‹ä¸°å¯Œ | å¢åŠ è§†é¢‘æ•™ç¨‹ |

### æŠ€æœ¯æœç´¢æ¥æº ğŸ”

æœ¬é¡¹ç›®ä½¿ç”¨çš„æŠ€æœ¯æ–¹æ³•æ¥æºäºï¼š

| æŠ€æœ¯ç‚¹ | æœç´¢å…³é”®è¯ | æ¥æºç±»å‹ | å­¦ä¹ éš¾åº¦ |
|--------|------------|----------|----------|
| Cloudflare Worker | "cloudflare worker openai proxy" | å®˜æ–¹æ–‡æ¡£ + ç¤¾åŒº | â­â­ |
| SSE æµå¼å“åº” | "server sent events cloudflare" | æŠ€æœ¯åšå®¢ | â­â­â­ |
| é€’å½’ç®—æ³• | "javascript recursive object traversal" | Stack Overflow | â­â­ |
| Base64 å›¾ç‰‡ | "data uri scheme image base64" | MDN æ–‡æ¡£ | â­ |
| CORS å¤„ç† | "cloudflare worker cors headers" | å®˜æ–¹ç¤ºä¾‹ | â­ |

## ğŸ› å¸¸è§é—®é¢˜è§£ç­”

### Q: ä¸ºä»€ä¹ˆå›¾ç‰‡ç”Ÿæˆå¤±è´¥ï¼Ÿ
**A:** å¯èƒ½åŸå› ï¼š
- ğŸ”‘ APIå¯†é’¥é”™è¯¯ â†’ æ£€æŸ¥Bearer Token
- ğŸŒ ç½‘ç»œé—®é¢˜ â†’ æ£€æŸ¥Cloudflare WorkerçŠ¶æ€  
- â° è¶…æ—¶é™åˆ¶ â†’ å¤æ‚å›¾ç‰‡éœ€è¦æ›´é•¿æ—¶é—´
- ğŸª Cookieè¿‡æœŸ â†’ éœ€è¦æ›´æ–°CONFIG.COOKIE

### Q: å¦‚ä½•æé«˜ç”Ÿæˆé€Ÿåº¦ï¼Ÿ
**A:** ä¼˜åŒ–å»ºè®®ï¼š
- ğŸ¯ ä½¿ç”¨æ›´ç®€æ´çš„æç¤ºè¯
- âš¡ é€‰æ‹©lexica-v2æ¨¡å‹ï¼ˆé€šå¸¸æ›´å¿«ï¼‰
- ğŸ”„ å‡å°‘å›¾ç‰‡å¤æ‚åº¦
- ğŸš€ ç¡®ä¿Workeråœ°ç†ä½ç½®æ¥è¿‘

### Q: æ”¯æŒè‡ªå®šä¹‰å›¾ç‰‡å°ºå¯¸å—ï¼Ÿ
**A:** å½“å‰ç‰ˆæœ¬å›ºå®šä¸ºæ¨¡å‹é»˜è®¤å°ºå¯¸ã€‚v4.0è®¡åˆ’æ”¯æŒå‚æ•°è°ƒèŠ‚ï¼

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **GPL-3.0** å¼€æºè®¸å¯è¯ã€‚

### ä¸»è¦æ¡æ¬¾ ğŸ“œ
- âœ… **å…è®¸**ï¼šå•†ä¸šä½¿ç”¨ã€ä¿®æ”¹ã€åˆ†å‘
- âœ… **è¦æ±‚**ï¼šå¼€æºä¿®æ”¹åçš„ä»£ç ã€ä¿ç•™ç‰ˆæƒå£°æ˜
- âœ… **ç¦æ­¢**ï¼šä½¿ç”¨ä¸“åˆ©èµ·è¯‰æœ¬é¡¹ç›®

*"æˆ‘ä»¬ç›¸ä¿¡å¼€æºè®©ä¸–ç•Œæ›´ç¾å¥½ï¼Œä½†è¯·å°Šé‡ä½œè€…çš„åŠ³åŠ¨æˆæœ"*

## ğŸŒŸ æ˜Ÿæ˜Ÿå†å²

[![Star History Chart](https://api.star-history.com/svg?repos=lza6/lexica-2api-cfwork&type=Date)](https://star-history.com/#lza6/lexica-2api-cfwork&Date)

## ğŸ’Œ è”ç³»æˆ‘ä»¬

**é¡¹ç›®ç»´æŠ¤è€…**ï¼šé¦–å¸­AIæ‰§è¡Œå®˜  

**äº¤æµæ¸ é“**ï¼š
- ğŸ› [GitHub Issues](https://github.com/lza6/lexica-2api-cfwork/issues) - é—®é¢˜åé¦ˆ
- ğŸ’¬ [Discussions](https://github.com/lza6/lexica-2api-cfwork/discussions) - æŠ€æœ¯äº¤æµ  
- ğŸ“§ é‚®ç®±ï¼šé€šè¿‡GitHub Profileè”ç³»

---

<div align="center">

## ğŸŠ æ„Ÿè°¢ä½¿ç”¨ Lexica-2APIï¼

> *"æ¯ä¸€ä¸ªä¼Ÿå¤§çš„åˆ›æ„ï¼Œéƒ½å€¼å¾—è¢«å®Œç¾å‘ˆç°"*

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ª â­ æ˜Ÿæ˜Ÿæ”¯æŒï¼**

[â¬† å›åˆ°é¡¶éƒ¨](#-lexica-2api-cloudflare-worker-å•æ–‡ä»¶ç‰ˆ-v310)

</div>
